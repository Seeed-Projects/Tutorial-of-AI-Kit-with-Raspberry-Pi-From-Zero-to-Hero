"use strict";(self.webpackChunktutorial_of_ai_kit=self.webpackChunktutorial_of_ai_kit||[]).push([[3212],{7206:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var i=n(5893),a=n(1151);const o={sidebar_position:7},r="Using Hailo8 to accelerate facial recognition",s={id:"Chapter_3-Computer_Vision_Projects_and_Practical_Applications/Using_Hailo8_to_accelerate_facial_recognition",title:"Using Hailo8 to accelerate facial recognition",description:"Overview",source:"@site/../articles/Chapter_3-Computer_Vision_Projects_and_Practical_Applications/Using_Hailo8_to_accelerate_facial_recognition.md",sourceDirName:"Chapter_3-Computer_Vision_Projects_and_Practical_Applications",slug:"/Chapter_3-Computer_Vision_Projects_and_Practical_Applications/Using_Hailo8_to_accelerate_facial_recognition",permalink:"/Tutorial-of-AI-Kit-with-Raspberry-Pi-From-Zero-to-Hero/docs/Chapter_3-Computer_Vision_Projects_and_Practical_Applications/Using_Hailo8_to_accelerate_facial_recognition",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Using YOLOv8 and AI Box for all climbing and tracking detection",permalink:"/Tutorial-of-AI-Kit-with-Raspberry-Pi-From-Zero-to-Hero/docs/Chapter_3-Computer_Vision_Projects_and_Practical_Applications/Using_YOLOv8_and_AI_Box_for_fall_climbing_and_tracking_detection"},next:{title:"Chapter 4 - Large Language Model",permalink:"/Tutorial-of-AI-Kit-with-Raspberry-Pi-From-Zero-to-Hero/docs/Chapter_4-Large_Language_Model/"}},l={},c=[{value:"Overview",id:"overview",level:2},{value:"Prepare Hardware",id:"prepare-hardware",level:2},{value:"Install Hailo Software &amp; Verify Installation",id:"install-hailo-software--verify-installation",level:2},{value:"update the system",id:"update-the-system",level:3},{value:"Set pcie to gen2/gen3(gen3 is faster than gen2)",id:"set-pcie-to-gen2gen3gen3-is-faster-than-gen2",level:3},{value:"Install hailo-all and reboot",id:"install-hailo-all-and-reboot",level:3},{value:"Check Software and Hardware",id:"check-software-and-hardware",level:3},{value:"Run Project",id:"run-project",level:2},{value:"Install Project",id:"install-project",level:3},{value:"Add your photo",id:"add-your-photo",level:3},{value:"Add information to the database",id:"add-information-to-the-database",level:3},{value:"Run the project",id:"run-the-project",level:3},{value:"Result",id:"result",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"using-hailo8-to-accelerate-facial-recognition",children:"Using Hailo8 to accelerate facial recognition"}),"\n",(0,i.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(t.p,{children:["This wiki will guide you through using a reComputer equipped with a ",(0,i.jsx)(t.code,{children:"Hailo"})," NPU to implement real-time facial recognition. In this project, we use ",(0,i.jsx)(t.code,{children:"SCRFD-10G"})," for efficient face detection, capable of quickly and accurately detecting faces of various scales, including small faces, ensuring real-time performance. At the same time, we employ the ",(0,i.jsx)(t.code,{children:"ArcFace-MobileFaceNet"})," model for lightweight face recognition, which leverages the ArcFace loss function to enhance recognition accuracy and enable efficient identity verification."]}),"\n",(0,i.jsx)(t.h2,{id:"prepare-hardware",children:"Prepare Hardware"}),"\n",(0,i.jsx)("div",{class:"table-center",children:(0,i.jsxs)("table",{align:"center",children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"reComputer AI Industrial R2000"}),(0,i.jsx)("th",{children:"reComputer AI R2000"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("div",{style:{textAlign:"center"},children:(0,i.jsx)("img",{src:"https://media-cdn.seeedstudio.com/media/catalog/product/cache/bb49d3ec4ee05b6f018e93f896b8a25d/2/-/2-114993595-recomputer-ai-industrial-r2135-12.jpg",style:{width:250,height:"auto"}})})}),(0,i.jsx)("td",{children:(0,i.jsx)("div",{style:{textAlign:"center"},children:(0,i.jsx)("img",{src:"https://media-cdn.seeedstudio.com/media/catalog/product/cache/bb49d3ec4ee05b6f018e93f896b8a25d/1/_/1_24_1.jpg",style:{width:250,height:"auto"}})})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("div",{class:"get_one_now_container",style:{textAlign:"center"},children:(0,i.jsx)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/reComputer-AI-Industrial-R2135-12-p-6432.html",target:"_blank",children:(0,i.jsx)("strong",{children:(0,i.jsx)("span",{children:(0,i.jsx)("font",{color:"FFFFFF",size:"4",children:" Get One Now \ud83d\uddb1\ufe0f"})})})})})}),(0,i.jsx)("td",{children:(0,i.jsx)("div",{class:"get_one_now_container",style:{textAlign:"center"},children:(0,i.jsx)("a",{class:"get_one_now_item",href:"https://www.seeedstudio.com/reComputer-AI-R2130-12-p-6368.html",target:"_blank",children:(0,i.jsx)("strong",{children:(0,i.jsx)("span",{children:(0,i.jsx)("font",{color:"FFFFFF",size:"4",children:" Get One Now \ud83d\uddb1\ufe0f"})})})})})})]})]})}),"\n",(0,i.jsx)("div",{style:{color:"red",fontWeight:"bold"},children:(0,i.jsx)(t.p,{children:"Note: You need a USB camera as the input."})}),"\n",(0,i.jsx)(t.h2,{id:"install-hailo-software--verify-installation",children:"Install Hailo Software & Verify Installation"}),"\n",(0,i.jsx)(t.h3,{id:"update-the-system",children:"update the system"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"sudo apt update\nsudo apt full-upgrade\n"})}),"\n",(0,i.jsxs)(t.admonition,{type:"note",children:[(0,i.jsx)(t.p,{children:"Sometimes you may encounter the following issues during updates."}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]\nGet:2 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]\nGet:3 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]\nGet:4 http://archive.raspberrypi.com/debian bookworm InRelease [39.0 kB]\nReading package lists... Done                                   \nE: Release file for http://deb.debian.org/debian/dists/bookworm/InRelease is not valid yet (invalid for another 58d 8h 26min 35s). Updates for this repository will not be applied.\nE: Release file for http://deb.debian.org/debian-security/dists/bookworm-security/InRelease is not valid yet (invalid for another 84d 18h 23min 59s). Updates for this repository will not be applied.\nE: Release file for http://archive.raspberrypi.com/debian/dists/bookworm/InRelease is not valid yet (invalid for another 84d 13h 13min 5s). Updates for this repository will not be applied.\nE: Release file for http://deb.debian.org/debian/dists/bookworm-updates/InRelease is not valid yet (invalid for another 85d 0h 52min 29s). Updates for this repository will not be applied. \n"})}),(0,i.jsx)(t.p,{children:"This is because the time on the Raspberry Pi is set incorrectly, and you need to manually set the time on the Raspberry Pi with command below:"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"# This command only you can connect google.com\nsudo date -s \"$(wget -qSO- --max-redirect=0 google.com 2>&1 | grep Date: | cut -d' ' -f5-8)Z\"\n"})}),(0,i.jsx)(t.p,{children:"After set your raspberry time, you can update your raspberry."})]}),"\n",(0,i.jsx)(t.h3,{id:"set-pcie-to-gen2gen3gen3-is-faster-than-gen2",children:"Set pcie to gen2/gen3(gen3 is faster than gen2)"}),"\n",(0,i.jsxs)(t.p,{children:["Add following text to ",(0,i.jsx)(t.code,{children:"/boot/firmware/config.txt"})]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"# Enable the PCIe external connector\n\ndtparam=pciex1\n\n# Force Gen 3.0 speeds\n\ndtparam=pciex1_gen=3\n\n"})}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsx)(t.p,{children:"If you want to use gen2, please comment dtparam=pciex1_gen=3"})}),"\n",(0,i.jsx)(t.h3,{id:"install-hailo-all-and-reboot",children:"Install hailo-all and reboot"}),"\n",(0,i.jsx)(t.p,{children:"Open terminal on the Raspberry Pi5, and input command as follows to install Hailo software."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"sudo apt install hailo-all\nsudo apt-get -y install libblas-dev nlohmann-json3-dev\nsudo reboot\n"})}),"\n",(0,i.jsx)(t.h3,{id:"check-software-and-hardware",children:"Check Software and Hardware"}),"\n",(0,i.jsx)(t.p,{children:"Open terminal on the Raspberry Pi5, and input command as follows to check if hailo-all have been installed."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"hailortcli fw-control identify\n"})}),"\n",(0,i.jsx)(t.p,{children:"The right result show as bellow:"}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:(0,i.jsx)("img",{src:"https://files.seeedstudio.com/wiki/reComputer-R1000/YOLOV8/check_software.png",alt:"pir",width:1e3,height:"auto"})}),"\n",(0,i.jsx)(t.p,{children:"Open terminal on the Raspberry Pi5, and input command as follows to check if hailo-8L have been connected."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"lspci | grep Hailo\n"})}),"\n",(0,i.jsx)(t.p,{children:"The right result show as bellow:"}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:(0,i.jsx)("img",{src:"https://files.seeedstudio.com/wiki/reComputer-R1000/YOLOV8/check_hardware.png",alt:"pir",width:1e3,height:"auto"})}),"\n",(0,i.jsx)(t.h2,{id:"run-project",children:"Run Project"}),"\n",(0,i.jsx)(t.h3,{id:"install-project",children:"Install Project"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"cd ~ && git clone https://github.com/Seeed-Projects/hailo-apps-infra\ncd hailo-apps-infra\n./install.sh\nsource venv_hailo_apps/bin/activate\n"})}),"\n",(0,i.jsx)(t.h3,{id:"add-your-photo",children:"Add your photo"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"cd /resources/face_recon/train\n# change name to the name of the person to be recognized\nmkdir name\n"})}),"\n",(0,i.jsx)("div",{style:{color:"red",fontWeight:"bold"},children:(0,i.jsx)(t.p,{children:"Note: Place the photo of the person to be recognized into the folder that was just created."})}),"\n",(0,i.jsx)(t.h3,{id:"add-information-to-the-database",children:"Add information to the database"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"cd ~/hailo-apps-infra/hailo_apps/hailo_app_python/apps/face_recognition\npython face_recognition.py --mode train\n"})}),"\n",(0,i.jsx)(t.p,{children:"The right result show as bellow:"}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:(0,i.jsx)("img",{src:"https://files.seeedstudio.com/wiki/00_AI_Sensing/Application/face/face_1.png",alt:"pir",width:1e3,height:"auto"})}),"\n",(0,i.jsx)(t.h3,{id:"run-the-project",children:"Run the project"}),"\n",(0,i.jsx)(t.p,{children:"Input the command below you will see a face recognition demo:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:" python face_recognition.py --input usb\n"})}),"\n",(0,i.jsx)(t.h2,{id:"result",children:"Result"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.a,{href:"https://www.youtube.com/watch?v=wcT_ZYsRbAE",children:(0,i.jsx)(t.img,{src:"https://img.youtube.com/vi/wcT_ZYsRbAE/0.jpg",alt:"Alt text"})})})]})}function h(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},1151:(e,t,n)=>{n.d(t,{Z:()=>s,a:()=>r});var i=n(7294);const a={},o=i.createContext(a);function r(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);