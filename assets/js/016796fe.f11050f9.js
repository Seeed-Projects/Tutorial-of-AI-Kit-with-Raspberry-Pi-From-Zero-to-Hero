"use strict";(self.webpackChunktutorial_of_ai_kit=self.webpackChunktutorial_of_ai_kit||[]).push([[918],{2978:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>d,toc:()=>l});var r=t(5893),i=t(1151);const o={sidebar_position:3},s="Smart Retail with reComputerR11 and AI kit",d={id:"Chapter_6-RaspberryPi_and_AIoT/Smart_Retail_with_reComputerR11_and_AIkit",title:"Smart Retail with reComputerR11 and AI kit",description:"This project demonstrates how to use the reComputer R11 and AI Kit to enhance your store, making it smarter and more efficient.",source:"@site/../articles/Chapter_6-RaspberryPi_and_AIoT/Smart_Retail_with_reComputerR11_and_AIkit.md",sourceDirName:"Chapter_6-RaspberryPi_and_AIoT",slug:"/Chapter_6-RaspberryPi_and_AIoT/Smart_Retail_with_reComputerR11_and_AIkit",permalink:"/Tutorial-of-AI-Kit-with-Raspberry-Pi-From-Zero-to-Hero/docs/Chapter_6-RaspberryPi_and_AIoT/Smart_Retail_with_reComputerR11_and_AIkit",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Let's create a project.",permalink:"/Tutorial-of-AI-Kit-with-Raspberry-Pi-From-Zero-to-Hero/docs/Chapter_6-RaspberryPi_and_AIoT/A_Simple_Project_with_Ollama"}},a={},l=[{value:"First: set up your environment",id:"first-set-up-your-environment",level:2},{value:"Download the project",id:"download-the-project",level:3},{value:"Clone office example",id:"clone-office-example",level:3},{value:"Setup environment",id:"setup-environment",level:3},{value:"Install requirements",id:"install-requirements",level:3},{value:"Post process compilation",id:"post-process-compilation",level:3},{value:"Second: run Product_Detection",id:"second-run-product_detection",level:2},{value:"Third: run Warehouse_Monitoring",id:"third-run-warehouse_monitoring",level:2},{value:"Fourth: run Node-RED",id:"fourth-run-node-red",level:2},{value:"Install mosquitto because the picture and message is sending by MQTT service:",id:"install-mosquitto-because-the-picture-and-message-is-sending-by-mqtt-service",level:3},{value:"Install node-red:",id:"install-node-red",level:3},{value:"Enable node-red and start node-red:",id:"enable-node-red-and-start-node-red",level:3},{value:"Open node-red:",id:"open-node-red",level:3},{value:"Install Dashboard and Modbus node:",id:"install-dashboard-and-modbus-node",level:3},{value:"Import the workflow",id:"import-the-workflow",level:3},{value:"Deploy the flow, and the result is shown as below:",id:"deploy-the-flow-and-the-result-is-shown-as-below",level:3},{value:"Open Dashboard:",id:"open-dashboard",level:3},{value:"The result",id:"the-result",level:2}];function c(e){const n={blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"smart-retail-with-recomputerr11-and-ai-kit",children:"Smart Retail with reComputerR11 and AI kit"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:t(7283).Z+"",width:"2810",height:"1585"})}),"\n",(0,r.jsx)(n.p,{children:"This project demonstrates how to use the reComputer R11 and AI Kit to enhance your store, making it smarter and more efficient."}),"\n",(0,r.jsx)(n.p,{children:"We retrained the YOLOv8n model to detect Coca-Cola, chips, crackers, crisps, milk, and popcorn. The model is deployed on the AI Kit to monitor the inventory of these items on shelves, notifying store staff when restocking is needed. Additionally, we utilized a pre-trained EfficientNet model to detect people in the warehouse. This model, deployed on the CPU in TFLite format, helps prevent theft by identifying unauthorized intrusions."}),"\n",(0,r.jsx)(n.p,{children:"Beyond inventory and security, we integrated environmental monitoring using temperature and humidity sensors. A ReSpeaker was added to emit alerts when intrusions are detected, notifying security personnel. Furthermore, we connected fans and lighting through RS485 for convenient operation by staff."}),"\n",(0,r.jsx)(n.p,{children:"All data and controls are consolidated into a Node-RED dashboard, providing an intuitive interface for monitoring and managing store operations effectively."}),"\n",(0,r.jsx)(n.h2,{id:"first-set-up-your-environment",children:"First: set up your environment"}),"\n",(0,r.jsx)(n.h3,{id:"download-the-project",children:"Download the project"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"git clone https://github.com/Seeed-Projects/Smart-Retail-with-reComputerR11-and-AI-kit.git\ncd Smart-Retail-with-reComputerR11-and-AI-kit\n"})}),"\n",(0,r.jsx)(n.h3,{id:"clone-office-example",children:"Clone office example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"git clone https://github.com/hailo-ai/hailo-rpi5-examples.git\n"})}),"\n",(0,r.jsx)(n.h3,{id:"setup-environment",children:"Setup environment"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"cd hailo-rpi5-examples && source setup.sh\n"})}),"\n",(0,r.jsx)(n.h3,{id:"install-requirements",children:"Install requirements"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"cd .. && pip install -r requirements.txt\n"})}),"\n",(0,r.jsx)(n.h3,{id:"post-process-compilation",children:"Post process compilation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"cd hailo-rpi5-examples && ./compile_postprocess.sh\n"})}),"\n",(0,r.jsx)(n.h2,{id:"second-run-product_detection",children:"Second: run Product_Detection"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"}),(0,r.jsx)(n.br,{}),"\n","/dev/video* will be your first usb camera"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"cd ../Product_Detection && python detection_pipelin.py --hef-path ./yolov8n.hef -i /dev/video0 --labels-json ./config.json\n"})}),"\n",(0,r.jsx)(n.h2,{id:"third-run-warehouse_monitoring",children:"Third: run Warehouse_Monitoring"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"}),(0,r.jsx)(n.br,{}),"\n","'1' will be your second usb camera"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"you should open another terminal and run command below:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"cd ../Warehouse_Monitoring/ && python app.py --device 1\n"})}),"\n",(0,r.jsx)(n.h2,{id:"fourth-run-node-red",children:"Fourth: run Node-RED"}),"\n",(0,r.jsx)(n.h3,{id:"install-mosquitto-because-the-picture-and-message-is-sending-by-mqtt-service",children:"Install mosquitto because the picture and message is sending by MQTT service:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sudo apt install -y mosquitto mosquitto-clients\n"})}),"\n",(0,r.jsx)(n.h3,{id:"install-node-red",children:"Install node-red:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"bash <(curl -sL https://raw.githubusercontent.com/node-red/linux-installers/master/deb/update-nodejs-and-nodered)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"enable-node-red-and-start-node-red",children:"Enable node-red and start node-red:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"sudo systemctl enable nodered.service\nsudo systemctl start nodered.service\n"})}),"\n",(0,r.jsx)(n.h3,{id:"open-node-red",children:"Open node-red:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"localhost:1880\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The interface is like below:\n",(0,r.jsx)(n.img,{src:t(7945).Z+"",width:"1918",height:"933"})]}),"\n",(0,r.jsx)(n.h3,{id:"install-dashboard-and-modbus-node",children:"Install Dashboard and Modbus node:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:t(5324).Z+"",width:"1918",height:"934"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:t(6961).Z+"",width:"1915",height:"892"})}),"\n",(0,r.jsx)(n.h3,{id:"import-the-workflow",children:"Import the workflow"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"cp nodered-workflow/flows.json ~/.node-red/lib/flows\n"})}),"\n",(0,r.jsxs)(n.p,{children:["And then, import flows like below:\n",(0,r.jsx)(n.img,{src:t(9159).Z+"",width:"1917",height:"977"})]}),"\n",(0,r.jsx)(n.h3,{id:"deploy-the-flow-and-the-result-is-shown-as-below",children:"Deploy the flow, and the result is shown as below:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:t(4011).Z+"",width:"1892",height:"972"})}),"\n",(0,r.jsx)(n.h3,{id:"open-dashboard",children:"Open Dashboard:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Click the Dashboard button.\n",(0,r.jsx)(n.img,{src:t(60).Z+"",width:"1919",height:"930"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Click the Dashboard button in the top right corner to open dashboard.\n",(0,r.jsx)(n.img,{src:t(2037).Z+"",width:"1917",height:"935"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["The result is shown like below:\n",(0,r.jsx)(n.img,{src:t(1779).Z+"",width:"1919",height:"667"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"the-result",children:"The result"}),"\n",(0,r.jsx)(n.p,{children:"We use the Raspberry Pi to accelerate EfficientNet for intrusion detection in storage rooms through object recognition. Meanwhile, the AI Kit is used to accelerate the YOLOv8 model for object detection to determine the quantity of goods on the shelves."}),"\n",(0,r.jsx)("iframe",{width:"1273",height:"716",src:"https://www.youtube.com/embed/Sd5J5k863Vs",title:"Making Next Gadget: Master AI with Raspberry Pi, Power Smart Retail Solutions",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},60:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/dashboard_1-bbb1c2bd2684673e5f45313876e403a1.png"},2037:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/dashboard_2-190addfdcfbcd39ac84f3b3755e68c3d.png"},5324:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/dashboard_node-e0cfb6222bab20d9d32479022de0f6df.png"},1779:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/dashboard_show-cd51c683c27ff7a46a4c773f41aaf860.png"},4011:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/deploy_flow-6ee56191cfb6585fa26787b3809280f3.png"},9159:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/import_1-278fea3ceb44b70584e3e18aa31719fb.png"},6961:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/modbus_node-810506a9e96b1b5066268910d468db6c.png"},7945:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/nodered_start-9443b29b42f3ac4442596cd16e37cdc9.png"},7283:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/smart_retail-2d8a05b7ca8c6223d05056b5641c9786.png"},1151:(e,n,t)=>{t.d(n,{Z:()=>d,a:()=>s});var r=t(7294);const i={},o=r.createContext(i);function s(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);