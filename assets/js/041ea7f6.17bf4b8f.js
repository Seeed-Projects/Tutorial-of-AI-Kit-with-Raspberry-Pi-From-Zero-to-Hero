"use strict";(self.webpackChunktutorial_of_ai_kit=self.webpackChunktutorial_of_ai_kit||[]).push([[730],{8709:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>s,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>d});var t=n(5893),l=n(1151);const i={sidebar_position:2},a=void 0,r={id:"Chapter_5-Custom_Model_Development_and_Deployment/Convert_Your_Model",title:"Convert_Your_Model",description:"You can get this Notebook on GitHub.",source:"@site/../articles/Chapter_5-Custom_Model_Development_and_Deployment/Convert_Your_Model.md",sourceDirName:"Chapter_5-Custom_Model_Development_and_Deployment",slug:"/Chapter_5-Custom_Model_Development_and_Deployment/Convert_Your_Model",permalink:"/Tutorial-of-AI-Kit-with-Raspberry-Pi-From-Zero-to-Hero/docs/Chapter_5-Custom_Model_Development_and_Deployment/Convert_Your_Model",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Training_Your_Model",permalink:"/Tutorial-of-AI-Kit-with-Raspberry-Pi-From-Zero-to-Hero/docs/Chapter_5-Custom_Model_Development_and_Deployment/Training_Your_Model"},next:{title:"Deploy_Your_Model",permalink:"/Tutorial-of-AI-Kit-with-Raspberry-Pi-From-Zero-to-Hero/docs/Chapter_5-Custom_Model_Development_and_Deployment/Deploy_Your_Model"}},s={},d=[{value:"Step 1: Prepare your environment on your host computer",id:"step-1-prepare-your-environment-on-your-host-computer",level:2},{value:"Here we need Hailo DataFlow Compiler to convert our model",id:"here-we-need-hailo-dataflow-compiler-to-convert-our-model",level:3},{value:"Download from official website",id:"download-from-official-website",level:4},{value:"1. Register a Hailo account",id:"1-register-a-hailo-account",level:5},{value:"2. Install Hailo DataFlow Compiler",id:"2-install-hailo-dataflow-compiler",level:5},{value:"Step 2: Using HailoDFC and HailoModelZoo to compile ONNX model to HEF model.",id:"step-2-using-hailodfc-and-hailomodelzoo-to-compile-onnx-model-to-hef-model",level:2}];function c(e){const o={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",img:"img",p:"p",pre:"pre",strong:"strong",...(0,l.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.blockquote,{children:["\n",(0,t.jsxs)(o.p,{children:["You can get this ",(0,t.jsx)(o.a,{href:"https://github.com/Seeed-Projects/Tutorial-of-AI-Kit-with-Raspberry-Pi-From-Zero-to-Hero/blob/main/articles/Chapter_5-Custom_Model_Development_and_Deployment/Convert_Your_Model.ipynb",children:"Notebook"})," on GitHub."]}),"\n"]}),"\n",(0,t.jsx)(o.h2,{id:"step-1-prepare-your-environment-on-your-host-computer",children:"Step 1: Prepare your environment on your host computer"}),"\n",(0,t.jsx)(o.p,{children:(0,t.jsx)(o.strong,{children:"Note: This part of code run on your host computer"})}),"\n",(0,t.jsxs)(o.p,{children:["The Jupyter Notebook right up have a button like ",(0,t.jsx)(o.img,{alt:"select kernel",src:n(5260).Z+"",width:"113",height:"23"}),", then you choose ",(0,t.jsx)(o.code,{children:"Select Another Kernel"}),", and choose ",(0,t.jsx)(o.code,{children:"Python Environments"}),", then choose ",(0,t.jsx)(o.code,{children:"Creat Python Environment"})," and choose ",(0,t.jsx)(o.code,{children:"Venv"}),", then choose ",(0,t.jsx)(o.code,{children:"python3.10"}),"."]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-python",children:"# Here is my hostcomputer information\n# Linux PC 6.8.0-45-generic #45~22.04.1-Ubuntu SMP PREEMPT_DYNAMIC Wed Sep 11 15:25:05 UTC 2 x86_64 x86_64 x86_64 GNU/Linux\n\n!uname -a\n"})}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-python",children:"# Here is my python version\n# Python 3.10.12\n\n!python -V\n"})}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-python",children:"# Download hailo model zoo to convert onnx model\ntry:\n    ! git clone https://github.com/hailo-ai/hailo_model_zoo.git\nexcept Exception as e:\n    print(f'install error: {e}')\n"})}),"\n",(0,t.jsxs)(o.h3,{id:"here-we-need-hailo-dataflow-compiler-to-convert-our-model",children:["Here we need ",(0,t.jsx)(o.a,{href:"https://hailo.ai/products/hailo-software/hailo-ai-software-suite/#sw-dc",children:"Hailo DataFlow Compiler"})," to convert our model"]}),"\n",(0,t.jsx)(o.h4,{id:"download-from-official-website",children:"Download from official website"}),"\n",(0,t.jsxs)(o.h5,{id:"1-register-a-hailo-account",children:["1. Register a ",(0,t.jsx)(o.a,{href:"https://hailo.ai/developer-zone/request-access/",children:"Hailo account"})]}),"\n",(0,t.jsx)(o.p,{children:(0,t.jsx)(o.img,{alt:"register_hailo",src:n(2132).Z+"",width:"1859",height:"488"})}),"\n",(0,t.jsxs)(o.h5,{id:"2-install-hailo-dataflow-compiler",children:["2. Install ",(0,t.jsx)(o.a,{href:"https://hailo.ai/developer-zone/software-downloads/",children:"Hailo DataFlow Compiler"})]}),"\n",(0,t.jsx)(o.p,{children:(0,t.jsx)(o.img,{alt:"install_hailo",src:n(903).Z+"",width:"1906",height:"892"})}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-python",children:"# Install HailoDFC to compile the model\n\ntry:\n    %pip install ../resource/hailo_dataflow_compiler-3.29.0-py3-none-linux_x86_64.whl -q\n    print('install successfully')\nexcept:\n    print('install error')\n"})}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-python",children:"# Install hailo model zoo\n\ntry:\n    ! cd hailo_model_zoo/ && pip install -e . -q\nexcept Exception as e:\n    print(f'install error: {e}')\n"})}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-python",children:"# Check if HailoModel Zoo is installed \n\n! hailomz info mobilenet_v1\n"})}),"\n",(0,t.jsx)(o.h2,{id:"step-2-using-hailodfc-and-hailomodelzoo-to-compile-onnx-model-to-hef-model",children:"Step 2: Using HailoDFC and HailoModelZoo to compile ONNX model to HEF model."}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-python",children:"# Copy your onnx model to hailo_model_zoo folder\n\n! cp ../../models/Chapter5/best.onnx ./hailo_model_zoo/\n"})}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-python",children:'# This command demonstrates converting a model into the HEF format supported by Hailo8L. If you are using Hailo8, please change "Hailo8L" to "Hailo8".\n# Your host computer at least have 32GB RAM.\n\n! cd hailo_model_zoo/ && python hailo_model_zoo/main.py compile yolov8n --ckpt best.onnx --hw-arch hailo8l  --calib-path /home/jiahao/datasets/train/images  --classes 3 --performance\n'})}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-python",children:"# Move yolov8n.hef to /models/Chapter5\n\n! mv   ./hailo_model_zoo/yolov8n.hef ../../models/Chapter5/\n"})})]})}function h(e={}){const{wrapper:o}={...(0,l.a)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},903:(e,o,n)=>{n.d(o,{Z:()=>t});const t=n.p+"assets/images/install_compiler-9627fe4834443e46bc6a86bbf66c8f78.png"},2132:(e,o,n)=>{n.d(o,{Z:()=>t});const t=n.p+"assets/images/register_hailo-a3545ccecb05e3cacb8680897517e855.png"},5260:(e,o,n)=>{n.d(o,{Z:()=>t});const t="data:image/png;base64,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"},1151:(e,o,n)=>{n.d(o,{Z:()=>r,a:()=>a});var t=n(7294);const l={},i=t.createContext(l);function a(e){const o=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),t.createElement(i.Provider,{value:o},e.children)}}}]);