"use strict";(self.webpackChunktutorial_of_ai_kit=self.webpackChunktutorial_of_ai_kit||[]).push([[59],{969:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>c,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var r=o(5893),t=o(1151);const s={sidebar_position:3},i=void 0,l={id:"Chapter_5-Custom_Model_Development_and_Deployment/Deploy_Your_Model",title:"Deploy_Your_Model",description:"You can get this Notebook on GitHub.",source:"@site/../articles/Chapter_5-Custom_Model_Development_and_Deployment/Deploy_Your_Model.md",sourceDirName:"Chapter_5-Custom_Model_Development_and_Deployment",slug:"/Chapter_5-Custom_Model_Development_and_Deployment/Deploy_Your_Model",permalink:"/Tutorial-of-AI-Kit-with-Raspberry-Pi-From-Zero-to-Hero/docs/Chapter_5-Custom_Model_Development_and_Deployment/Deploy_Your_Model",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Convert_Your_Model",permalink:"/Tutorial-of-AI-Kit-with-Raspberry-Pi-From-Zero-to-Hero/docs/Chapter_5-Custom_Model_Development_and_Deployment/Convert_Your_Model"},next:{title:"Chapter 6 - Raspberry Pi and AIoT",permalink:"/Tutorial-of-AI-Kit-with-Raspberry-Pi-From-Zero-to-Hero/docs/Chapter_6-RaspberryPi_and_AIoT/"}},a={},p=[{value:"Step 1: Prepare you environment on your raspberry pi",id:"step-1-prepare-you-environment-on-your-raspberry-pi",level:2},{value:"Update time",id:"update-time",level:3},{value:"Upgrade raspberry pi",id:"upgrade-raspberry-pi",level:3},{value:"Install jupyter",id:"install-jupyter",level:3},{value:"Open jupyter",id:"open-jupyter",level:3},{value:"Step 2: Configure labels",id:"step-2-configure-labels",level:2},{value:"Step 3: Run your model",id:"step-3-run-your-model",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["You can get this ",(0,r.jsx)(n.a,{href:"https://github.com/Seeed-Projects/Tutorial-of-AI-Kit-with-Raspberry-Pi-From-Zero-to-Hero/blob/main/articles/Chapter_5-Custom_Model_Development_and_Deployment/Deploy_Your_Model.ipynb",children:"Notebook"})," on GitHub."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"step-1-prepare-you-environment-on-your-raspberry-pi",children:"Step 1: Prepare you environment on your raspberry pi"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Note\uff1aThis part of code run on your ",(0,r.jsx)(n.a,{href:"https://www.seeedstudio.com/Raspberry-Pi-5-2GB-p-5938.html",children:"raspberry pi5"})," or ",(0,r.jsx)(n.a,{href:"https://www.seeedstudio.com/reComputer-R1000-Series-Optional-Accessories.html",children:"Recomputer R Series"})," with your ",(0,r.jsx)(n.a,{href:"https://www.seeedstudio.com/Raspberry-Pi-AI-Kit-p-5900.html",children:"AI kit"})]})}),"\n",(0,r.jsx)(n.h3,{id:"update-time",children:"Update time"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\n\n\nsudo date -s \"$(wget -qSO- --max-redirect=0 google.com 2>&1 | grep Date: | cut -d' ' -f5-8)Z\"\n\n\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"upgrade-raspberry-pi",children:"Upgrade raspberry pi"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\n\n\nsudo apt update && sudo apt upgrade\n\n\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"install-jupyter",children:"Install jupyter"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\n\n\nsudo apt install jupyter\n\n\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"open-jupyter",children:"Open jupyter"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\n\n\njupyter notebook\n\n\n\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Note"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Please install hailo8l to your raspberrypi follow ",(0,r.jsx)(n.a,{href:"https://www.raspberrypi.com/documentation/accessories/ai-kit.html",children:"this"}),", and for ",(0,r.jsx)(n.a,{href:"https://www.seeedstudio.com/reComputer-R1000-Series-Optional-Accessories.html",children:"reComputerR"})," series follow ",(0,r.jsx)(n.a,{href:"https://wiki.seeedstudio.com/yolov8_object_detection_on_recomputer_r1000_with_hailo_8l/#step-1-install-ai-kit",children:"this"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Install hailo-all on raspberrypi\n\n! sudo apt install hailo-all -y\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Check if the hailo-all is installed\n\n! hailortcli fw-control identify\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Install hailo-rpi5-examples\n\n! git clone https://github.com/hailo-ai/hailo-rpi5-examples.git\n"})}),"\n",(0,r.jsx)(n.h2,{id:"step-2-configure-labels",children:"Step 2: Configure labels"}),"\n",(0,r.jsxs)(n.p,{children:["The output of yolov8n hef model will be three classes 0, 1, 2. And we use ",(0,r.jsx)(n.code,{children:"json"})," file to parse the output."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import json\n\ndata = {\n    "detection_threshold": 0.1,\n    "max_boxes": 200,\n    "labels": [\n        " ",\n        "apple",\n        "banana",\n        "orange"\n    ]\n}\n\noutput_file = "config.json"\n\nwith open(output_file, "w") as file:\n    json.dump(data, file, indent=4)\n\nprint(f"JSON file saved as {output_file}")\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Install necessary libs\n\n! source ./hailo-rpi5-examples/setup_env.sh && pip install setproctitle\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# Install postprocess .so lib\n\n! source ./hailo-rpi5-examples/setup_env.sh && cd ./hailo-rpi5-examples && bash ./install.sh\n"})}),"\n",(0,r.jsx)(n.h2,{id:"step-3-run-your-model",children:"Step 3: Run your model"}),"\n",(0,r.jsxs)(n.p,{children:["\ud83d\udccc Note: If you meet error like ",(0,r.jsx)(n.code,{children:"max_desc_page_size given 16384 is bigger than hw max desc page size 4096"})," please check this ",(0,r.jsx)(n.a,{href:"https://community.hailo.ai/t/hailort-error-check-failed-max-desc-page-size-given-16384-is-bigger-than-hw-max-desc-page-size-4096/3690",children:"link"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"! source ./hailo-rpi5-examples/setup_env.sh && python ./hailo-rpi5-examples/basic_pipelines/detection_pipeline.py --labels-json ./config.json --hef ../../models/Chapter5/yolov8n.hef -i /dev/video0\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python"})})]})}function c(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},1151:(e,n,o)=>{o.d(n,{Z:()=>l,a:()=>i});var r=o(7294);const t={},s=r.createContext(t);function i(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);